<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Fanz的个人博客"><meta name="keywords" content="Fanz 前端 博客"><meta name="baidu-site-verification" content="kfCLKEy1X0"><meta name="google-site-verification" content="k_H14O9gOsnbdRWGJPErB2U0CWfxPjNdrTH6QLDAs7g"><title>Angular文档划重点(1) | Fanz</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/5.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Angular文档划重点(1)</h1><a id="logo" href="/.">Fanz</a><p class="description">随时准备离职得写代码，随时准备面试得学习</p></div><div id="music"><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="280" height="52" src="//music.163.com/outchain/player?type=2&amp;id=35345951&amp;auto=0&amp;height=32"></iframe></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Angular文档划重点(1)</h1><div class="post-meta">Jan 23, 2018<span> | </span><span class="category"><a href="/categories/JavaScript/">JavaScript</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-disqus-identifier="2018/01/23/Angular文档划重点(1)/" href="/2018/01/23/Angular文档划重点(1)/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><h3 id="模板与数据绑定"><a href="#模板与数据绑定" class="headerlink" title="模板与数据绑定"></a>模板与数据绑定</h3><h4 id="模板语法"><a href="#模板语法" class="headerlink" title="模板语法"></a>模板语法</h4><ul>
<li><p>模板中的HTML： 禁用了script、HTML、body、base等标签</p>
</li>
<li><p>插值表达式：{{}}，括号中的素材是一个模板表达式，对其中内容求值，并转换为string</p>
</li>
<li><p>模板表达式：可能引起副作用的表达式被禁用：赋值（=, +=, -=, …），new 运算符，使用;或,的链式表达式，自增或自减操作符 (++和–)。并且不支持位运算|和&amp;。</p>
</li>
<li><p>表达式上下文：包括所在组件的对象，模板输入变量（比如：ngFor中的let item）和模板引用变量（#input）。不能引用全局变量（window.<em>,document.</em>等）。</p>
</li>
<li><p>模板语句：主要用于触发事件（(event)=”statement”），和模板表达式不同的是支持基本赋值（=）和表达式链（;和,）。</p>
</li>
<li><p>语句上下文：包括所在组件的对象，模板输入变量（比如：ngFor中的let item）和模板引用变量（#input）。不能引用全局变量（window.<em>,document.</em>等）。</p>
</li>
<li><p>属性绑定：[]=</p>
</li>
<li><p>attribute绑定：当元素没有属性可绑定的时候，需要使用[attr.*]=””进行绑定</p>
</li>
<li><p>CSS类绑定：&lt;div class=”bad curly” [class]=”badCurly”&gt;会计算badCurly的值，赋值并覆盖之前的class。可以使用[class.*]=””来添加新的class</p>
</li>
<li><p>样式绑定：[style.color]=””</p>
</li>
<li><p>绑定事件：(click)=”func()”和on-click=”func()” $event原生event对象</p>
</li>
<li><p>使用EventEmitter实现自定义事件：new EventEmitter().emit(参数)</p>
</li>
<li><p>双向数据绑定：[()]双向数据绑定实际上是属性绑定和事件绑定的语法糖</p>
</li>
<li><p>内置结构指令：NgIf,NgFor,NgSwitch等等</p>
</li>
<li><p>模板引用变量：(#var) 作用域为整个模板</p>
</li>
<li><p>输入和输出：@Input和@Output，或者通过@Component中的元数据inputs:[]和outputs:[]</p>
</li>
<li><p>模板表达式操作符：管道(|)，安全导航操作符(?.)，非空断言(!)。非空断言和安全导航操作符不同的是，非空断言只是“断言”来避免TypeScript的检查，但是允许返回null和undefined</p>
</li>
</ul>
<h4 id="生命周期钩子"><a href="#生命周期钩子" class="headerlink" title="生命周期钩子"></a>生命周期钩子</h4><table>
<thead>
<tr>
<th>钩子</th>
<th>目的和时机</th>
</tr>
</thead>
<tbody><tr>
<td>ngOnChanges()</td>
<td>当Angular（重新）设置数据绑定输入属性时响应。 该方法接受当前和上一属性值的SimpleChanges对象当被绑定的输入属性的值发生变化时调用，首次调用一定会发生在ngOnInit()之前。</td>
</tr>
<tr>
<td>ngOnInit()</td>
<td>在Angular第一次显示数据绑定和设置指令/组件的输入属性之后，初始化指令/组件。在第一轮ngOnChanges()完成之后调用，只调用一次。</td>
</tr>
<tr>
<td>ngDoCheck()</td>
<td>检测，并在发生Angular无法或不愿意自己检测的变化时作出反应。在每个Angular变更检测周期中调用，ngOnChanges()和ngOnInit()之后。</td>
</tr>
<tr>
<td>ngAfterContentInit()</td>
<td>当把内容投影进组件之后调用。第一次ngDoCheck()之后调用，只调用一次。只适用于组件。</td>
</tr>
<tr>
<td>ngAfterContentChecked()</td>
<td>每次完成被投影组件内容的变更检测之后调用。ngAfterContentInit()和每次ngDoCheck()之后调用只适合组件。</td>
</tr>
<tr>
<td>ngAfterViewInit()</td>
<td>初始化完组件视图及其子视图之后调用。第一次ngAfterContentChecked()之后调用，只调用一次。只适合组件。</td>
</tr>
<tr>
<td>ngAfterViewChecked()</td>
<td>每次做完组件视图和子视图的变更检测之后调用。ngAfterViewInit()和每次ngAfterContentChecked()之后调用。只适合组件。</td>
</tr>
<tr>
<td>ngOnDestroy()</td>
<td>当Angular每次销毁指令/组件之前调用并清扫。 在这儿反订阅可观察对象和分离事件处理器，以防内存泄漏。在Angular销毁指令/组件之前调用。</td>
</tr>
</tbody></table>
<h4 id="组件交互"><a href="#组件交互" class="headerlink" title="组件交互"></a>组件交互</h4><ul>
<li><p>通过输入型绑定把数据从父组件传到子组件：@Input</p>
</li>
<li><p>通过setter截听输入属性值的变化</p>
</li>
<li><p>通过ngOnChanges()来截听输入属性值的变化</p>
</li>
<li><p>父组件监听子组件的事件： 通过@Output一个EventEmitter对象</p>
</li>
<li><p>父子组件通过本地变量交互： #var</p>
</li>
<li><p>父组件调用@ViewChild()： AfterViewInit钩子中</p>
</li>
<li><p>通过服务通讯</p>
</li>
</ul>
<h4 id="组件样式"><a href="#组件样式" class="headerlink" title="组件样式"></a>组件样式</h4><ul>
<li>组件的样式有三种封装模式：原生(Native)、仿真(Emulated)、无(none)。原生会通过Shadow DOM保证样式不影响组件外其他元素，仿真会通过改名等特殊处理实现不影响外面其他元素。</li>
</ul>
<h4 id="动态组件"><a href="#动态组件" class="headerlink" title="动态组件"></a>动态组件</h4><ul>
<li><p>通过componentFactoryResolver下的方法(如：resolveComponentFactory)解析出一个ComponentFactory对象。</p>
</li>
<li><p>通过ViewContainerRef可以获取对容器视图的访问权(包括clear、createComponent等方法)。</p>
</li>
<li><p>将ComponentFactory传递给ViewContainerRef的createComponent即可将组件动态添加到ViewContainerRef中。</p>
</li>
</ul>
<h4 id="属性型指令"><a href="#属性型指令" class="headerlink" title="属性型指令"></a>属性型指令</h4><ul>
<li><p>Directive提供@Directive装饰器功能。</p>
</li>
<li><p>通过ElementRef可以访问DOM元素。</p>
</li>
<li><p>通过@Input传入参数</p>
</li>
<li><p>通过@HostListener添加响应事件</p>
</li>
</ul>
<h4 id="结构型指令"><a href="#结构型指令" class="headerlink" title="结构型指令"></a>结构型指令</h4><ul>
<li><p>*号是一个微语法，解开会变成<ng-template>标签。</ng-template></p>
</li>
<li><p><ng-template>会被转换成注释，不会显示出来。</ng-template></p>
</li>
<li><p><ng-container>不会被渲染的容器。</ng-container></p>
</li>
<li><p>通过TemplateRef取得<ng-template>的内容，通过VeiwContainerRef来访问视图容器</ng-template></p>
</li>
</ul>
<h4 id="管道"><a href="#管道" class="headerlink" title="管道"></a>管道</h4><ul>
<li><p>自定义管道需要实现PipeTransform接口的transform方法，接受一个输入值和参数</p>
</li>
<li><p>纯管道：只有发生纯变更（原始类型变更，或引用地址的变更）的时候才会执行纯管道。</p>
</li>
<li><p>非纯管道：元数据中添加pure: false。</p>
</li>
<li><p>非纯异步管道：接受一个Promise或Observable作为输入，最终返回给出的值。</p>
</li>
</ul>
<h4 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h4><ul>
<li><p>元数据中定义animations</p>
</li>
<li><p>定义不同状态下的样式，定义状态砖厂动画效果。</p>
</li>
<li><p>*为任意状态，void状态为未进场或移除状态。</p>
</li>
</ul>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="https://pfanz.github.io/2018/01/23/Angular文档划重点(1)/" data-id="ck9cjeqle0002ygtiwcku46y6" class="article-share-link">分享到</a><div class="tags"><a href="/tags/Angular/">Angular</a></div><div class="post-nav"><a href="/2018/01/23/Angular文档划重点(2)/" class="pre">Angular文档划重点(2)</a><a href="/2018/01/04/移动端input光标问题/" class="next">移动端input光标问题</a></div><div id="disqus_thread"><script>var disqus_shortname = 'blog-fanz';
var disqus_identifier = '2018/01/23/Angular文档划重点(1)/';
var disqus_title = 'Angular文档划重点(1)';
var disqus_url = 'https://pfanz.github.io/2018/01/23/Angular文档划重点(1)/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//blog-fanz.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="https://pfanz.github.io"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CSS/">CSS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/H5/">H5</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/HACK/">HACK</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/React/">React</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Vue/">Vue</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/小程序/">小程序</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/杂记/">杂记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/移动端/">移动端</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/构建工具/" style="font-size: 15px;">构建工具</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/Angular/" style="font-size: 15px;">Angular</a> <a href="/tags/CSS/" style="font-size: 15px;">CSS</a> <a href="/tags/移动端/" style="font-size: 15px;">移动端</a> <a href="/tags/Flutter/" style="font-size: 15px;">Flutter</a> <a href="/tags/H5/" style="font-size: 15px;">H5</a> <a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/React/" style="font-size: 15px;">React</a> <a href="/tags/API/" style="font-size: 15px;">API</a> <a href="/tags/移动Web/" style="font-size: 15px;">移动Web</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/gulp/" style="font-size: 15px;">gulp</a> <a href="/tags/项目经验/" style="font-size: 15px;">项目经验</a> <a href="/tags/Redux/" style="font-size: 15px;">Redux</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/面试/" style="font-size: 15px;">面试</a> <a href="/tags/Vue/" style="font-size: 15px;">Vue</a> <a href="/tags/Webpack/" style="font-size: 15px;">Webpack</a> <a href="/tags/前端/" style="font-size: 15px;">前端</a> <a href="/tags/汇总/" style="font-size: 15px;">汇总</a> <a href="/tags/小程序/" style="font-size: 15px;">小程序</a> <a href="/tags/微信小程序/" style="font-size: 15px;">微信小程序</a> <a href="/tags/微信分享/" style="font-size: 15px;">微信分享</a> <a href="/tags/npm/" style="font-size: 15px;">npm</a> <a href="/tags/面向对象/" style="font-size: 15px;">面向对象</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/04/23/微信中视频异步后无法直接播放/">微信中视频异步后无法直接播放</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/10/11/eslint中的extends和plugin/">eslint中的extends和plugin</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/20/多帐号聊天项目设计/">多帐号聊天项目设计</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/01/小程序的实现原理/">微信小程序</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/11/从Vue Function-based API RFC说起/">从Vue Function-based API RFC说起</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/10/Vue多组件仓库搭建/">Vue多组件仓库搭建</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/22/GMTC大前端大会总结/">GMTC大前端大会总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/04/Svelte初看/">Svelte初看</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/02/春节活动小结/">春节活动小结</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/20/私有npm服务器——verdaccio/">私有npm服务器——verdaccio</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最近评论</i></div><script type="text/javascript" src="//blog-fanz.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://github.com/PFanz" title="github" target="_blank">github</a><ul></ul><a href="mailto:zhongguofeifan@126.com" title="邮箱" target="_blank">邮箱</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">Fanz.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-97219922-1','auto');ga('send','pageview');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>